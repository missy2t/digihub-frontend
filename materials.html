<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materials</title>
    <link rel="stylesheet" href="GS.css">
</head>

<body class="materials-page">
        <h1>Materials</h1>
    <nav>
        <div class="logo">
            <img src="/Digihub.jpg" alt="Digi Hub Logo">
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="Aboutus.html">About Us </a></li>
            <li><a href="Faq.html">FAQs</a></li>
            <li><a href="Contactus.html">Contact Us</a></li>
            <li><a href="uploadpage.html">Upload My Files</a></li> <!-- Added Upload My Files button -->
        </ul>
    </nav>
    <div class="container">
        <h2>Available Study Materials</h2>
        <div id="materialsList">
            <!-- Materials will be dynamically loaded here -->
        </div>
    </div>

    <div id="materialViewer" class="hidden">
        <div class="viewer-header">
            <h3 id="materialTitle">Material Title</h3>
            <button id="closeViewer">Close</button>
        </div>
        <div id="materialContent">
            <p id="materialDescription">Material description will appear here...</p>
            <div id="materialPreview">
                <p>Preview of the material content...</p>
            </div>
        </div>
        <button id="payButton">Pay to Unlock Full Content</button>
    </div>

    <footer>
        <p class="footer-text">Â© 2025 Digi Hub. All rights reserved.</p>
    </footer>

    <script>
        const materials = [
            { id: 1, title: "Material 1", description: "Description for Material 1", preview: "Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1", price: "$10" },
            { id: 2, title: "Material 2", description: "Description for Material 2", preview: "Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2", price: "$15" },
            { id: 3, title: "Material 3", description: "Description for Material 3", preview: "Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3", price: "$20" },
            { id: 4, title: "Material 1", description: "Description for Material 1", preview: "Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1 Preview content for Material 1", price: "$10" },
            { id: 5, title: "Material 2", description: "Description for Material 2", preview: "Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2 Preview content for Material 2", price: "$15" },
            { id: 6, title: "Material 3", description: "Description for Material 3", preview: "Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3 Preview content for Material 3", price: "$20" },
        ];

        const materialsList = document.getElementById('materialsList');
        const materialViewer = document.getElementById('materialViewer');
        const materialTitle = document.getElementById('materialTitle');
        const materialDescription = document.getElementById('materialDescription');
        const materialPreview = document.getElementById('materialPreview');
        const payButton = document.getElementById('payButton');
        const closeViewer = document.getElementById('closeViewer');

        materials.forEach(material => {
            const materialItem = document.createElement('div');
            materialItem.className = 'material-item';
            materialItem.innerHTML = `<h4>${material.title}</h4><p>${material.description}</p><p>Price: ${material.price}</p>`;
            materialItem.addEventListener('click', () => {
                materialTitle.textContent = material.title;
                materialDescription.textContent = material.description;

                const previewContent = material.preview;
                const visiblePart = previewContent.substring(0, 150); // Show first 50 characters
                const blurredPart = previewContent.substring(150); // Blur the rest

                materialPreview.innerHTML = `<p>${visiblePart}</p><p class='blurred' style='filter: blur(5px);'>${blurredPart}</p>`;
                materialViewer.classList.remove('hidden');
            });
            materialsList.appendChild(materialItem);
        });

        closeViewer.addEventListener('click', () => {
            materialViewer.classList.add('hidden');
        });

        payButton.addEventListener('click', () => {
            window.location.href = 'payment.html';
        });
    </script>
</body>

</html>